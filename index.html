<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>countdown to us</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #2d0a1e 0%, #4a1035 30%, #1a0a2e 70%, #2d0a1e 100%);
      color: #fff;
      font-family: 'Nunito', sans-serif;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(255, 100, 130, 0.15) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
    }

    .hearts-bg {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .floating-heart {
      position: absolute;
      bottom: -60px;
      animation: floatUp linear infinite;
      opacity: 0.5;
      font-size: 24px;
      user-select: none;
      filter: drop-shadow(0 0 6px rgba(255, 100, 130, 0.4));
    }

    @keyframes floatUp {
      0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.5; }
      50% { opacity: 0.7; }
      100% { transform: translateY(-110vh) rotate(360deg) scale(0.5); opacity: 0; }
    }

    .container {
      text-align: center;
      z-index: 1;
      padding: 2rem 2rem 10rem;
    }

    h1 {
      font-family: 'Fredoka One', cursive;
      font-size: clamp(1.8rem, 5vw, 3.5rem);
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, #ff6b8a, #ff2d55, #ff6b8a, #e91e63, #ff6b8a);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s linear infinite;
      filter: drop-shadow(0 0 20px rgba(255, 45, 85, 0.3));
    }

    @keyframes shimmer {
      to { background-position: 200% center; }
    }

    .subtitle {
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      opacity: 0.8;
      margin-bottom: 2.5rem;
      color: #ffb8c9;
    }

    .countdown {
      display: flex;
      gap: clamp(0.8rem, 3vw, 2rem);
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 2.5rem;
    }

    .time-block {
      background: rgba(255, 45, 85, 0.08);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 45, 85, 0.25);
      border-radius: 20px;
      padding: clamp(1rem, 3vw, 1.8rem) clamp(1.2rem, 3vw, 2rem);
      min-width: clamp(80px, 18vw, 120px);
      transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
    }

    .time-block:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 40px rgba(255, 45, 85, 0.25);
      border-color: rgba(255, 45, 85, 0.5);
    }

    .time-number {
      font-family: 'Fredoka One', cursive;
      font-size: clamp(2.5rem, 7vw, 4rem);
      color: #ff4d7a;
      line-height: 1;
      display: block;
      text-shadow: 0 0 20px rgba(255, 45, 85, 0.4);
    }

    .time-label {
      font-size: clamp(0.7rem, 2vw, 0.9rem);
      text-transform: uppercase;
      letter-spacing: 2px;
      opacity: 0.6;
      margin-top: 0.5rem;
      color: #ffb8c9;
    }

    .meme-text {
      font-size: clamp(1.1rem, 3vw, 1.5rem);
      padding: 1rem 2rem;
      background: rgba(255, 45, 85, 0.08);
      border: 1px solid rgba(255, 45, 85, 0.15);
      border-radius: 15px;
      display: inline-block;
      max-width: 500px;
      animation: pulse 2s ease-in-out infinite;
      margin-bottom: 1.5rem;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .progress-container {
      width: min(80vw, 400px);
      margin: 0 auto 1.5rem;
    }

    .progress-bar {
      height: 12px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ff2d55, #e91e63, #ff6b8a, #ff2d55);
      background-size: 200% auto;
      animation: shimmer 2s linear infinite;
      border-radius: 10px;
      transition: width 1s ease;
      box-shadow: 0 0 10px rgba(255, 45, 85, 0.5);
    }

    .progress-label {
      font-size: 0.85rem;
      opacity: 0.7;
      margin-top: 0.4rem;
      color: #ffb8c9;
    }

    .big-heart {
      font-size: clamp(2rem, 5vw, 3rem);
      margin-bottom: 0.5rem;
      animation: heartbeat 1.2s ease-in-out infinite;
      filter: drop-shadow(0 0 15px rgba(255, 45, 85, 0.5));
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      15% { transform: scale(1.15); }
      30% { transform: scale(1); }
      45% { transform: scale(1.1); }
      60% { transform: scale(1); }
    }

    .done-container {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .done-container h1 {
      font-size: clamp(2rem, 6vw, 4rem);
    }

    .done-emoji {
      font-size: clamp(4rem, 12vw, 8rem);
      animation: bounce 0.6s ease infinite alternate;
      filter: drop-shadow(0 0 20px rgba(255, 45, 85, 0.6));
    }

    @keyframes bounce {
      from { transform: translateY(0); }
      to { transform: translateY(-20px); }
    }

    /* ---- ENVELOPE ---- */
    .envelope-section {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }

    .envelope-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      color: #ffb8c9;
      font-family: 'Nunito', sans-serif;
      padding: 0.7rem 1.5rem;
      border-radius: 12px;
      border: 1px solid rgba(255, 45, 85, 0.3);
      background: rgba(255, 45, 85, 0.1);
      transition: all 0.3s;
      animation: pulse 2s ease-in-out infinite;
    }

    .envelope-btn:hover {
      background: rgba(255, 45, 85, 0.2);
      border-color: rgba(255, 45, 85, 0.5);
      box-shadow: 0 0 20px rgba(255, 45, 85, 0.2);
    }

    /* Overlay */
    .envelope-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 100;
      backdrop-filter: blur(5px);
    }

    .envelope-overlay.active {
      display: flex;
    }

    .envelope-wrapper {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      width: min(90vw, 320px);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Envelope body */
    .envelope {
      width: 100%;
      height: 200px;
      background: linear-gradient(145deg, #f7d1d1, #e8a0a0);
      border-radius: 0 0 12px 12px;
      position: relative;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      z-index: 2;
    }

    /* Envelope flap (triangle) */
    .envelope-flap {
      width: 0; height: 0;
      border-left: min(45vw, 160px) solid transparent;
      border-right: min(45vw, 160px) solid transparent;
      border-top: 120px solid #d4817f;
      position: absolute;
      top: 0; left: 0;
      z-index: 3;
      transform-origin: top center;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .envelope-flap.open {
      transform: rotateX(180deg);
    }

    /* Inner triangle (bottom part of envelope) */
    .envelope::after {
      content: '';
      position: absolute;
      bottom: 0; left: 0;
      width: 0; height: 0;
      border-left: min(45vw, 160px) solid transparent;
      border-right: min(45vw, 160px) solid transparent;
      border-bottom: 100px solid #e8b4b4;
    }

    /* Heart seal */
    .envelope-seal {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5rem;
      z-index: 4;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
      transition: opacity 0.3s;
    }

    .envelope-seal.hidden {
      opacity: 0;
    }

    /* Letter that slides up */
    .letter {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 40px);
      background: #fff8f0;
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 1;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.4s, opacity 0.3s ease 0.4s;
      opacity: 0;
      color: #4a2030;
      font-size: 0.85rem;
      line-height: 1.6;
      text-align: left;
      max-height: 350px;
      overflow-y: auto;
    }

    .letter.visible {
      transform: translateX(-50%) translateY(-320px);
      opacity: 1;
      z-index: 5;
    }

    .letter-text {
      min-height: 3rem;
    }

    .letter-cursor {
      display: inline-block;
      width: 2px;
      height: 1em;
      background: #d4817f;
      animation: blink 0.7s step-end infinite;
      vertical-align: text-bottom;
      margin-left: 2px;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    .close-letter {
      margin-top: 1.5rem;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 0.85rem;
      color: #d4817f;
      font-family: 'Nunito', sans-serif;
      padding: 0.4rem 1rem;
      border-radius: 8px;
      border: 1px solid #d4817f;
      transition: all 0.2s;
      display: none;
    }

    .close-letter:hover {
      background: #d4817f;
      color: #fff;
    }

    /* Heart burst on open */
    .heart-burst {
      position: absolute;
      font-size: 1.5rem;
      pointer-events: none;
      z-index: 10;
      animation: burstOut 1s ease-out forwards;
    }

    @keyframes burstOut {
      0% { transform: translate(0, 0) scale(1); opacity: 1; }
      100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }

    /* ---- CHAOS BUTTON ---- */
    .chaos-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      color: #ffb8c9;
      font-family: 'Nunito', sans-serif;
      padding: 0.7rem 1.5rem;
      border-radius: 12px;
      border: 1px solid rgba(255, 45, 85, 0.3);
      background: rgba(255, 45, 85, 0.1);
      transition: all 0.3s;
    }

    .chaos-btn:hover {
      background: rgba(255, 45, 85, 0.2);
      border-color: rgba(255, 45, 85, 0.5);
      box-shadow: 0 0 20px rgba(255, 45, 85, 0.2);
    }

    .bottom-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10% { transform: translateX(-8px) rotate(-1deg); }
      20% { transform: translateX(8px) rotate(1deg); }
      30% { transform: translateX(-6px) rotate(-0.5deg); }
      40% { transform: translateX(6px) rotate(0.5deg); }
      50% { transform: translateX(-4px); }
      60% { transform: translateX(4px); }
      70% { transform: translateX(-2px); }
      80% { transform: translateX(2px); }
      90% { transform: translateX(-1px); }
    }

    .screen-shake {
      animation: shake 0.6s ease-in-out;
    }

    /* I MISS YOU fullscreen text */
    .miss-you-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 200;
      pointer-events: none;
      overflow: hidden;
    }

    .miss-you-overlay.active {
      display: block;
    }

    .miss-you-text {
      position: absolute;
      font-family: 'Fredoka One', cursive;
      color: #ff2d55;
      white-space: nowrap;
      animation: missYouPop 1.5s ease-out forwards;
      text-shadow: 0 0 20px rgba(255, 45, 85, 0.6);
    }

    @keyframes missYouPop {
      0% { transform: scale(0) rotate(var(--rot)); opacity: 0; }
      30% { transform: scale(1.2) rotate(var(--rot)); opacity: 1; }
      100% { transform: scale(1) rotate(var(--rot)); opacity: 0; }
    }

    /* Disco mode */
    .disco-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 150;
      pointer-events: none;
      animation: discoColors 0.4s linear infinite;
      mix-blend-mode: overlay;
      opacity: 0.3;
    }

    .disco-overlay.active {
      display: block;
    }

    @keyframes discoColors {
      0% { background: #ff2d55; }
      16% { background: #ff6b8a; }
      33% { background: #e91e63; }
      50% { background: #9c27b0; }
      66% { background: #ff4081; }
      83% { background: #f50057; }
      100% { background: #ff2d55; }
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      z-index: 200;
      pointer-events: none;
      animation: confettiFall linear forwards;
    }

    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    .tiny-footer {
      position: fixed;
      bottom: 10px;
      opacity: 0.3;
      font-size: 0.75rem;
      z-index: 1;
      color: #ffb8c9;
    }
  </style>
</head>
<body>
  <div class="hearts-bg" id="heartsBg"></div>

  <div class="container" id="countdownView">
    <div class="big-heart">üíó</div>
    <h1>omw to spoon you</h1>
    <div class="subtitle">soldier coming home ü™ñ friday the 13th never looked so good</div>

    <div class="countdown">
      <div class="time-block">
        <span class="time-number" id="days">00</span>
        <div class="time-label">days</div>
      </div>
      <div class="time-block">
        <span class="time-number" id="hours">00</span>
        <div class="time-label">hours</div>
      </div>
      <div class="time-block">
        <span class="time-number" id="minutes">00</span>
        <div class="time-label">mins</div>
      </div>
      <div class="time-block">
        <span class="time-number" id="seconds">00</span>
        <div class="time-label">secs</div>
      </div>
    </div>

    <div class="meme-text" id="memeText"></div>

    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
      </div>
      <div class="progress-label" id="progressLabel">loading love...</div>
    </div>

    <div class="envelope-section">
      <div class="bottom-buttons">
        <button class="envelope-btn" id="openEnvelope">psst... trykk her üíå</button>
        <button class="chaos-btn" id="chaosBtn">ikke trykk her üëÄ</button>
      </div>
    </div>
  </div>

  <div class="container done-container" id="doneView">
    <div class="done-emoji">ü´∂</div>
    <h1>IT'S TIME</h1>
    <div class="meme-text">mission complete. welcome home, soldier ü™ñüíï</div>
  </div>

  <!-- Envelope overlay -->
  <div class="envelope-overlay" id="envelopeOverlay">
    <div class="envelope-wrapper">
      <div class="letter" id="letter">
        <div class="letter-text" id="letterText"></div><span class="letter-cursor" id="letterCursor"></span>
        <button class="close-letter" id="closeLetter">lukk üíï</button>
      </div>
      <div class="envelope" id="envelope">
        <div class="envelope-flap" id="envelopeFlap"></div>
        <div class="envelope-seal" id="envelopeSeal">üíó</div>
      </div>
    </div>
  </div>

  <div class="miss-you-overlay" id="missYouOverlay"></div>
  <div class="disco-overlay" id="discoOverlay"></div>

  <div class="tiny-footer">made with 0 sleep & 100% love</div>

  <script>
    // Target: Friday Feb 13 2026, 20:00 CET (UTC+1)
    const TARGET = new Date('2026-02-13T20:00:00+01:00').getTime();

    // Total countdown duration (from when page was "created" ~Feb 9 15:00 CET)
    const CREATED = new Date('2026-02-09T15:00:00+01:00').getTime();
    const TOTAL_DURATION = TARGET - CREATED;

    const memeTexts = [
      { min: 99999, text: "permission to be excited, sir ü´°" },
      { min: 1440, text: "ONE MORE DAY. i'm literally vibrating ü´°" },
      { min: 360,  text: "me refreshing this page like i'm waiting for deployment orders ü™ñ" },
      { min: 120,  text: "THE FINAL STRETCH. THIS IS NOT A DRILL. (actually it's literally not a drill anymore) ü´°" },
      { min: 60,   text: "one hour left and i already forgot how to act normal üßç" },
      { min: 30,   text: "soldier inbound üöÅ ETA 30 minutes" },
      { min: 10,   text: "so close i can almost steal your camo hoodie ü™ñüíï" },
      { min: 5,    text: "AHHHHHH ü´†" },
      { min: 1,    text: "MISSION ALMOST COMPLETE üéØ" },
      { min: 0,    text: "any second now... üëÄü´°" },
    ];

    function getMemeText(minutesLeft) {
      for (const m of memeTexts) {
        if (minutesLeft >= m.min) return m.text;
      }
      return memeTexts[memeTexts.length - 1].text;
    }

    function pad(n) {
      return String(n).padStart(2, '0');
    }

    function update() {
      const now = Date.now();
      const diff = TARGET - now;

      if (diff <= 0) {
        document.getElementById('countdownView').style.display = 'none';
        document.getElementById('doneView').style.display = 'flex';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      const totalMinutes = Math.floor(diff / (1000 * 60));

      document.getElementById('days').textContent = pad(days);
      document.getElementById('hours').textContent = pad(hours);
      document.getElementById('minutes').textContent = pad(minutes);
      document.getElementById('seconds').textContent = pad(seconds);

      document.getElementById('memeText').textContent = getMemeText(totalMinutes);

      const elapsed = now - CREATED;
      const progress = Math.min(100, Math.max(0, (elapsed / TOTAL_DURATION) * 100));
      document.getElementById('progressFill').style.width = progress.toFixed(2) + '%';
      document.getElementById('progressLabel').textContent =
        progress.toFixed(1) + '% mission complete üéØ';
    }

    // Floating emojis
    function spawnHeart() {
      const container = document.getElementById('heartsBg');
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      const emojis = ['üíï', 'üíó', 'üíñ', 'ü©∑', 'üíò', 'üíù', '‚ù§Ô∏è‚Äçüî•', '‚ú®', 'ü™ñ', 'ü´°', 'üí´', 'ü§ç', 'üíì'];
      heart.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      heart.style.left = Math.random() * 100 + '%';
      heart.style.fontSize = (16 + Math.random() * 20) + 'px';
      const duration = 6 + Math.random() * 8;
      heart.style.animationDuration = duration + 's';
      container.appendChild(heart);
      setTimeout(() => heart.remove(), duration * 1000);
    }

    // ---- ENVELOPE LOGIC ----
    const SECRET_MESSAGE = `En liten ekstra motivasjon til verdens fineste jenta mi <3\n\nGleder meg helt sinnsykt til du kommer i morgen!\n\nElsker deg over alt p√• jord, og h√•per du kicker ass siste timene med troppen!\n\nKosemose overdose og kliss klass venter deg i morgen + Bubs, kj√¶rlighet og brus.\n\nOg hvem vet, kanskje jeg har blitt en liten frosk som du m√• gi et kyss? üê∏\n\nTuddeloo üíï`;

    let envelopeOpened = false;

    function burstHearts() {
      const wrapper = document.querySelector('.envelope-wrapper');
      const rect = wrapper.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      const hearts = ['üíó', 'üíï', 'üíñ', '‚ú®', 'ü©∑', 'üíò', 'üíù', 'üê∏'];
      for (let i = 0; i < 12; i++) {
        const h = document.createElement('div');
        h.className = 'heart-burst';
        h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        const angle = (Math.PI * 2 * i) / 12;
        const dist = 80 + Math.random() * 60;
        h.style.left = cx + 'px';
        h.style.top = cy + 'px';
        h.style.position = 'fixed';
        h.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
        h.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 1000);
      }
    }

    function typeWriter(element, text, speed, callback) {
      let i = 0;
      element.innerHTML = '';
      function type() {
        if (i < text.length) {
          if (text[i] === '\n') {
            element.innerHTML += '<br>';
          } else {
            element.innerHTML += text[i];
          }
          i++;
          setTimeout(type, speed);
        } else {
          if (callback) callback();
        }
      }
      type();
    }

    document.getElementById('openEnvelope').addEventListener('click', function() {
      document.getElementById('envelopeOverlay').classList.add('active');
      envelopeOpened = false;
    });

    document.getElementById('envelope').addEventListener('click', function() {
      if (envelopeOpened) return;
      envelopeOpened = true;

      document.getElementById('envelopeFlap').classList.add('open');
      document.getElementById('envelopeSeal').classList.add('hidden');

      burstHearts();

      setTimeout(() => {
        document.getElementById('letter').classList.add('visible');
      }, 500);

      setTimeout(() => {
        const cursor = document.getElementById('letterCursor');
        cursor.style.display = 'inline-block';
        typeWriter(document.getElementById('letterText'), SECRET_MESSAGE, 35, () => {
          cursor.style.display = 'none';
          document.getElementById('closeLetter').style.display = 'inline-block';
        });
      }, 1200);
    });

    document.getElementById('closeLetter').addEventListener('click', function(e) {
      e.stopPropagation();
      const overlay = document.getElementById('envelopeOverlay');
      const letter = document.getElementById('letter');
      const flap = document.getElementById('envelopeFlap');
      const seal = document.getElementById('envelopeSeal');
      const closeBtn = document.getElementById('closeLetter');

      letter.classList.remove('visible');
      setTimeout(() => {
        flap.classList.remove('open');
        seal.classList.remove('hidden');
        overlay.classList.remove('active');
        document.getElementById('letterText').innerHTML = '';
        closeBtn.style.display = 'none';
        envelopeOpened = false;
      }, 500);
    });

    // Close on overlay click (outside envelope)
    document.getElementById('envelopeOverlay').addEventListener('click', function(e) {
      if (e.target === this && envelopeOpened) {
        document.getElementById('closeLetter').click();
      } else if (e.target === this && !envelopeOpened) {
        this.classList.remove('active');
      }
    });

    // ---- CHAOS BUTTON ----
    let chaosLevel = 0;
    const chaosBtn = document.getElementById('chaosBtn');
    const chaosLabels = [
      'ikke trykk her üëÄ',
      'ok en gang til? ü§î',
      'du gir deg ikke?? üò≥',
      '‚ö†Ô∏è SISTE ADVARSEL ‚ö†Ô∏è',
      'ü™© DU BA OM DET ü™©'
    ];

    function spawnConfetti() {
      const colors = ['#ff2d55', '#ff6b8a', '#e91e63', '#ff4081', '#ffb8c9', '#fff', '#ffd700'];
      for (let i = 0; i < 50; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = Math.random() * 100 + 'vw';
        c.style.top = '-10px';
        c.style.width = (6 + Math.random() * 8) + 'px';
        c.style.height = (6 + Math.random() * 8) + 'px';
        c.style.background = colors[Math.floor(Math.random() * colors.length)];
        c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
        c.style.animationDuration = (2 + Math.random() * 3) + 's';
        c.style.animationDelay = Math.random() * 0.5 + 's';
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 5000);
      }
    }

    function chaosHeartExplosion() {
      const hearts = ['üíó', 'üíï', 'üíñ', 'ü©∑', 'üíò', 'üíù', '‚ù§Ô∏è‚Äçüî•', 'üíì'];
      for (let i = 0; i < 30; i++) {
        const h = document.createElement('div');
        h.className = 'heart-burst';
        h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        h.style.position = 'fixed';
        h.style.left = (20 + Math.random() * 60) + 'vw';
        h.style.top = (20 + Math.random() * 60) + 'vh';
        h.style.fontSize = (1.5 + Math.random() * 2) + 'rem';
        const angle = Math.random() * Math.PI * 2;
        const dist = 100 + Math.random() * 150;
        h.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
        h.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
        h.style.zIndex = '200';
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 1000);
      }
    }

    function missYouFillScreen() {
      const overlay = document.getElementById('missYouOverlay');
      overlay.classList.add('active');
      overlay.innerHTML = '';
      const phrases = ['SAVNER DEG', 'I MISS YOU', 'KYSS MEG', 'üíóüíóüíó', 'KOM HJEM', 'KLEM MEG'];
      for (let i = 0; i < 20; i++) {
        const t = document.createElement('div');
        t.className = 'miss-you-text';
        t.textContent = phrases[Math.floor(Math.random() * phrases.length)];
        t.style.left = Math.random() * 80 + 'vw';
        t.style.top = Math.random() * 80 + 'vh';
        t.style.fontSize = (1 + Math.random() * 3) + 'rem';
        const rot = -20 + Math.random() * 40;
        t.style.setProperty('--rot', rot + 'deg');
        t.style.animationDelay = Math.random() * 0.5 + 's';
        overlay.appendChild(t);
      }
      setTimeout(() => {
        overlay.classList.remove('active');
        overlay.innerHTML = '';
      }, 2500);
    }

    let discoInterval = null;
    function startDisco() {
      const disco = document.getElementById('discoOverlay');
      disco.classList.add('active');
      // Rapid hearts + confetti during disco
      let discoTicks = 0;
      discoInterval = setInterval(() => {
        chaosHeartExplosion();
        spawnConfetti();
        discoTicks++;
        if (discoTicks > 6) {
          clearInterval(discoInterval);
          disco.classList.remove('active');
        }
      }, 500);
    }

    chaosBtn.addEventListener('click', function() {
      chaosLevel++;

      if (chaosLevel === 1) {
        // Hearts explosion
        chaosHeartExplosion();
        chaosBtn.textContent = chaosLabels[1];
      } else if (chaosLevel === 2) {
        // Confetti
        spawnConfetti();
        chaosBtn.textContent = chaosLabels[2];
      } else if (chaosLevel === 3) {
        // Screen shake + I MISS YOU
        document.body.classList.add('screen-shake');
        setTimeout(() => document.body.classList.remove('screen-shake'), 600);
        missYouFillScreen();
        chaosBtn.textContent = chaosLabels[3];
      } else if (chaosLevel === 4) {
        // FULL DISCO MODE
        startDisco();
        document.body.classList.add('screen-shake');
        setTimeout(() => document.body.classList.remove('screen-shake'), 600);
        missYouFillScreen();
        chaosBtn.textContent = chaosLabels[4];
      } else {
        // After level 4, keep going with everything
        startDisco();
        document.body.classList.add('screen-shake');
        setTimeout(() => document.body.classList.remove('screen-shake'), 600);
        missYouFillScreen();
      }
    });

    update();
    setInterval(update, 1000);
    setInterval(spawnHeart, 800);
    for (let i = 0; i < 8; i++) setTimeout(spawnHeart, i * 200);
  </script>
</body>
</html>
